int cvi_board_init(void)
{
	PINMUX_CONFIG(PAD_MIPIRX4N, MUX_SPI1_SCK); // CLK
	PINMUX_CONFIG(MUX_SPI1_SCK, SPI1_SCK); // CLK
	PINMUX_CONFIG(PAD_MIPIRX3P, MUX_SPI1_MOSI); // DATA
	PINMUX_CONFIG(MUX_SPI1_MOSI, SPI1_SDO); // DATA
	PINMUX_CONFIG(PAD_MIPIRX2N, XGPIOC_6); // RST
	PINMUX_CONFIG(PAD_MIPIRX4P, MUX_SPI1_CS); // CS
	PINMUX_CONFIG(MUX_SPI1_CS, XGPIOB_10); // CS
	PINMUX_CONFIG(PAD_MIPIRX3N, MUX_SPI1_MISO); // RS/DC
	PINMUX_CONFIG(MUX_SPI1_MISO, XGPIOB_8); // RS/DC
	PINMUX_CONFIG(PAD_MIPIRX2P, XGPIOC_7); // TE
	PINMUX_CONFIG(SD0_D1, PWM_12); // LCD_BL_PWM

	/* SPI CLOCK change to 300M */
	mmio_write_32(0x3002100, 0x50009);

	PINMUX_CONFIG(SD0_D2, XGPIOA_11); // RE_KEY
	PINMUX_CONFIG(SD0_CLK, XGPIOA_7); // RE_B
	PINMUX_CONFIG(SD0_CMD, XGPIOA_8); // RE_A
	PINMUX_CONFIG(PAD_MIPIRX1P, XGPIOC_9); // HOME_KEY
	PINMUX_CONFIG(PAD_MIPIRX0N, XGPIOC_10); // RETURN_KEY
	PINMUX_CONFIG(SD0_D0, PWM_13); // LED_PWM

	// pull up
	mmio_write_32(0x03001A00, 0x44); // SD0_CLK RE_B
	mmio_write_32(0x03001A04, 0x44); // SD0_CMD RE_A
	mmio_write_32(0x03001C20, 0x44); // PAD_MIPIRX1P HOME_KEY
	mmio_write_32(0x03001C24, 0x44); // PAD_MIPIRX0N RETURN_KEY
	mmio_write_32(0x03001A10, 0x44); // SD0_D2 RE_KEY

	/* wifi pin */
	PINMUX_CONFIG(SD1_GPIO1, PWR_GPIO_26); /* WIFI_WAKE */
	PINMUX_CONFIG(SD1_GPIO0, PWR_GPIO_25); /* WIFI_EN */
	PINMUX_CONFIG(SD1_CLK, PWR_SD1_CLK);
	PINMUX_CONFIG(SD1_CMD, PWR_SD1_CMD);
	PINMUX_CONFIG(SD1_D0, PWR_SD1_D0);
	PINMUX_CONFIG(SD1_D1, PWR_SD1_D1);
	PINMUX_CONFIG(SD1_D2, PWR_SD1_D2);
	PINMUX_CONFIG(SD1_D3, PWR_SD1_D3);

	/* uart lidar pin */
	PINMUX_CONFIG(IIC0_SDA, UART1_RX);
	PINMUX_CONFIG(IIC0_SCL, UART1_TX);
	PINMUX_CONFIG(SD0_D3, XGPIOA_12);

	/* mic_en gpio used ephy pin, so need some special config
	 * XGPIOB_26 */
	mmio_write_32(0x03009804, (mmio_read_32(0x03009804)) | 0x1);
	mmio_write_32(0x03009808, (mmio_read_32(0x03009808) & (~0x1f)) | 0x1);
	mmio_write_32(0x03009800, 0x0905);
	mdelay(1);
	mmio_write_32(0x0300907c, (mmio_read_32(0x0300907c) & (~0x1f00)) | 0x500);
	mmio_write_32(0x03009078, 0xf00);
	mmio_write_32(0x03009074, 0x606);
	mmio_write_32(0x03009070, 0x606);

	return 0;
}
